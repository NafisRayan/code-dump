const mongoose = require("mongoose");
const bcrypt = require("bcrypt");

const Schema = mongoose.Schema;

// // Define the availability sub-schema
// const AvailabilitySchema = new Schema({
//   date: {
//     type: Date,
//     required: true,
//   },
//   times: {
//     type: [String],
//     required: true,
//   },
// });

// Define the tutor schema
const employeeSchema = new Schema(
  {
    firstName: {
      type: String,
      required: true,
    },
    lastName: {
      type: String,
      required: true,
    },
    email: {
      type: String,
      required: [true, "Email is required"],
      unique: true,
    },
    password: {
      type: String,
      required: [true,"Password is required"],
    },
    role: {
      type: String,
      required: true,
    },
    location: {
      type: String,
      required: true
    }
  },
  { timestamps: true },
);

employeeSchema.pre("save", async function (next) {
  if (!this.isModified("password")) return;

  this.password = await bcrypt.hash(this.password, 10);
  next();
});

module.exports =
  mongoose.models?.Employee || mongoose.model("Employee", employeeSchema);
// [
//           {
//             "date": "2024-05-24",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-25",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-26",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-27",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-28",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-29",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-30",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-05-31",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-01",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-02",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-03",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-04",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-05",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-06",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-07",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-08",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-09",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-10",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-11",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-12",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-13",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-14",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-15",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-16",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-17",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-18",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-19",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-20",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-21",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-22",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-23",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-24",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-25",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-26",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-27",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-28",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-29",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-06-30",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-07-01",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-07-02",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           },
//           {
//             "date": "2024-07-03",
//             "times": [
//               "10:00-10:30",
//               "10:30-11:30 LESSON",
//               "11:30-2:00",
//               "3:00-3:30",
//               "3:30-4:30 LESSON",
//               "4:30-7:00"
//             ]
//           },
//           {
//             "date": "2024-07-04",
//             "times": [
//               "10:00-2:00",
//               "3:00-7:00"
//             ]
//           }
//         ]
